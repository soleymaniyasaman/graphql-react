{"version":3,"sources":["db.js","Query.js","RepoInfo.js","SearchBox.js","NavButtons.js","App.js","index.js"],"names":["github","baseURL","username","headers","Authorization","githubQuery","pageCount","queryString","paginationKeyword","paginationString","query","RepoInfo","license","repo","licenseInfo","spdxId","undefined","className","style","fontSize","href","url","name","description","viewerSubscription","id","toString","SearchBox","totalCount","onTotalChange","onQueryChange","htmlFor","type","value","onChange","event","target","min","max","NavButtons","start","end","next","previous","onPage","onClick","App","useState","userName","setUserName","repoList","setRepoList","setPageCount","setQueryString","setTotalCount","startCursor","setStartCursor","endCursor","setEndCursor","hasPreviousPage","setHasPreviousPage","hasNextPage","setHasNextPage","setPaginationKeyword","setPaginationString","fetchData","useCallback","queryText","JSON","stringify","fetch","method","body","then","response","json","data","console","log","viewer","repos","search","edges","total","repositoryCount","pageInfo","prev","catch","err","useEffect","myNumber","myString","myKeyword","map","node","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f48cb0f.chunk.js","sourcesContent":["const github = {\n    baseURL: 'https://api.github.com/graphql',\n    username: 'soleymaniyasaman',\n    headers: {\n        \"Content-Type\": 'application/json',\n        Authorization: 'bearer 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'\n    }\n}\nexport default github;","const githubQuery = (\n  pageCount,\n  queryString,\n  paginationKeyword,\n  paginationString\n) => {\n  return {\n    query: `\n    {\n      viewer {\n        name\n      }\n      search(query: \"${queryString} user:planetoftheweb sort:updated-desc\", type: REPOSITORY, ${paginationKeyword}: ${pageCount}, ${paginationString}) {\n        repositoryCount\n        edges {\n          cursor\n          node {\n            ... on Repository {\n              name\n              description\n              id\n              url\n              viewerSubscription\n              licenseInfo {\n                spdxId\n              }\n            }\n          }\n        }\n        pageInfo {\n          startCursor\n          endCursor\n          hasNextPage\n          hasPreviousPage\n        }\n      }\n    }\n  `,\n  };\n};\n\nexport default githubQuery;\n","const RepoInfo = ({ repo }) => {\n  let license;\n\n  switch (repo.licenseInfo?.spdxId) {\n    case undefined:\n      license = (\n        <span\n          className=\"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-danger\"\n          style={{ fontSize: \".6em\" }}>\n          NO LICENSE\n        </span>\n      );\n      break;\n    case \"NOASSERTION\":\n      license = (\n        <span\n          className=\"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-warning\"\n          style={{ fontSize: \".6em\" }}>\n          {repo.licenseInfo.spdxId}\n        </span>\n      );\n      break;\n    default:\n      license = (\n        <span\n          className=\"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-outline-success\"\n          style={{ fontSize: \".6em\" }}>\n          {repo.licenseInfo.spdxId}\n        </span>\n      );\n  }\n\n  return (\n    <li className=\"list-group-item\" key={repo.id.toString()}>\n      <div className=\"d-flex justify-content-between align-items-center\">\n        <div className=\"d-flex flex-column\">\n          <a className=\"h5 mb-0 text-decoration-none\" href={repo.url}>\n            {repo.name}\n          </a>\n          <p className=\"small\">{repo.description}</p>\n        </div>\n        <div className=\"text-nowrap ms-3\">\n          {license}\n          <span\n            className={\n              \"px-1 py-0 ms-1 d-inline-block btn btn-sm \" +\n              (repo.viewerSubscription === \"SUBSCRIBED\"\n                ? \"btn-success\"\n                : \"btn-outline-secondary\")\n            }\n            style={{ fontSize: \".6em\" }}>\n            {repo.viewerSubscription}\n          </span>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default RepoInfo;\n","const SearchBox = ({\n  totalCount,\n  pageCount,\n  queryString,\n  onTotalChange,\n  onQueryChange,\n}) => {\n  return (\n    <div className=\"d-flex align-items-center bg-light px-3 py-2 small rounded-3\">\n      <div className=\"d-flex align-items-center flex-grow-1\">\n        <label htmlFor=\"queryString\" className=\"me-2 fw-bold text-secondary\">\n          Search\n        </label>\n        <input\n          id=\"queryString\"\n          className=\"form-control form-control-sm me-2\"\n          type=\"text\"\n          value={queryString}\n          onChange={(event) => {\n            onQueryChange(event.target.value);\n          }}\n        />\n      </div>\n      <div className=\"d-flex align-items-center\">\n        <label htmlFor=\"pageCount\" className=\"me-2 fw-bold text-secondary\">\n          Show\n        </label>\n        <input\n          id=\"pageCount\"\n          className=\"form-control form-control-sm text-center me-2\"\n          type=\"number\"\n          min=\"1\"\n          max=\"100\"\n          value={pageCount}\n          onChange={(event) => {\n            onTotalChange(event.target.value);\n          }}\n        />\n      </div>\n      <div>\n        <b className=\"me-2 text-secondary\">Total:</b>\n        {totalCount}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBox;\n","const NavButtons = ({ start, end, next, previous, onPage }) => {\n  return (\n    <div className=\"d-flex justify-content-center my-2\">\n      {previous && (\n        <button\n          className=\"btn mx-1 btn-sm btn-primary bi bi-arrow-left\"\n          onClick={() => onPage(\"last\", 'before: \"' + start + '\"')}></button>\n      )}\n      {next && (\n        <button\n          className=\"btn mx-1 btn-sm btn-primary bi bi-arrow-right\"\n          onClick={() => onPage(\"first\", 'after: \"' + end + '\"')}></button>\n      )}\n    </div>\n  );\n};\n\nexport default NavButtons;\n","import github from \"./db.js\";\nimport { useEffect, useState, useCallback } from \"react\";\nimport query from \"./Query\";\nimport RepoInfo from \"./RepoInfo\";\nimport SearchBox from \"./SearchBox\";\nimport NavButtons from \"./NavButtons\";\n\nfunction App() {\n  let [userName, setUserName] = useState(\"\");\n  let [repoList, setRepoList] = useState(null);\n  let [pageCount, setPageCount] = useState(10);\n  let [queryString, setQueryString] = useState(\"\");\n  let [totalCount, setTotalCount] = useState(null);\n\n  let [startCursor, setStartCursor] = useState(null);\n  let [endCursor, setEndCursor] = useState(null);\n  let [hasPreviousPage, setHasPreviousPage] = useState(false);\n  let [hasNextPage, setHasNextPage] = useState(true);\n  let [paginationKeyword, setPaginationKeyword] = useState(\"first\");\n  let [paginationString, setPaginationString] = useState(\"\");\n\n  const fetchData = useCallback(() => {\n    const queryText = JSON.stringify(\n      query(pageCount, queryString, paginationKeyword, paginationString)\n    );\n\n    fetch(github.baseURL, {\n      method: \"POST\",\n      headers: github.headers,\n      body: queryText,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"data\", data);\n        const viewer = data.data.viewer;\n        const repos = data.data.search.edges;\n        const total = data.data.search.repositoryCount;\n        const start = data.data.search.pageInfo?.startCursor;\n        const end = data.data.search.pageInfo?.endCursor;\n        const next = data.data.search.pageInfo?.hasNextPage;\n        const prev = data.data.search.pageInfo?.hasPreviousPage;\n\n        setUserName(viewer.name);\n        setRepoList(repos);\n        setTotalCount(total);\n\n        setStartCursor(start);\n        setEndCursor(end);\n        setHasNextPage(next);\n        setHasPreviousPage(prev);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [pageCount, queryString, paginationString, paginationKeyword]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return (\n    <div className=\"App container mt-5\">\n      <h1 className=\"text-primary\">\n        <i className=\"bi bi-diagram-2-fill\"></i> Repos\n      </h1>\n      <p>Hey there {userName}</p>\n      <SearchBox\n        totalCount={totalCount}\n        pageCount={pageCount}\n        queryString={queryString}\n        onTotalChange={(myNumber) => {\n          setPageCount(myNumber);\n        }}\n        onQueryChange={(myString) => {\n          setQueryString(myString);\n        }}\n      />\n      <NavButtons\n        start={startCursor}\n        end={endCursor}\n        next={hasNextPage}\n        previous={hasPreviousPage}\n        onPage={(myKeyword, myString) => {\n          setPaginationKeyword(myKeyword);\n          setPaginationString(myString);\n        }}\n      />\n      {repoList && (\n        <ul className=\"list-group list-group-flush\">\n          {repoList.map((repo) => (\n            <RepoInfo key={repo.node.id} repo={repo.node} />\n          ))}\n        </ul>\n      )}\n\n      <NavButtons\n        start={startCursor}\n        end={endCursor}\n        next={hasNextPage}\n        previous={hasPreviousPage}\n        onPage={(myKeyword, myString) => {\n          setPaginationKeyword(myKeyword);\n          setPaginationString(myString);\n        }}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./custom.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}