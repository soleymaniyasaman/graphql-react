(this.webpackJsonpreactgraphql=this.webpackJsonpreactgraphql||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),r=n(4),o=n.n(r),i=n(2),l={baseURL:"https://api.github.com/graphql",username:"soleymaniyasaman",headers:{"Content-Type":"application/json",Authorization:"bearer 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"}},u=function(e,t,n,s){return{query:'\n    {\n      viewer {\n        name\n      }\n      search(query: "'.concat(t,' user:planetoftheweb sort:updated-desc", type: REPOSITORY, ').concat(n,": ").concat(e,", ").concat(s,") {\n        repositoryCount\n        edges {\n          cursor\n          node {\n            ... on Repository {\n              name\n              description\n              id\n              url\n              viewerSubscription\n              licenseInfo {\n                spdxId\n              }\n            }\n          }\n        }\n        pageInfo {\n          startCursor\n          endCursor\n          hasNextPage\n          hasPreviousPage\n        }\n      }\n    }\n  ")}},b=function(e){var t,n,a=e.repo;switch(null===(t=a.licenseInfo)||void 0===t?void 0:t.spdxId){case void 0:n=Object(s.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-danger",style:{fontSize:".6em"},children:"NO LICENSE"});break;case"NOASSERTION":n=Object(s.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-warning",style:{fontSize:".6em"},children:a.licenseInfo.spdxId});break;default:n=Object(s.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-outline-success",style:{fontSize:".6em"},children:a.licenseInfo.spdxId})}return Object(s.jsx)("li",{className:"list-group-item",children:Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(s.jsxs)("div",{className:"d-flex flex-column",children:[Object(s.jsx)("a",{className:"h5 mb-0 text-decoration-none",href:a.url,children:a.name}),Object(s.jsx)("p",{className:"small",children:a.description})]}),Object(s.jsxs)("div",{className:"text-nowrap ms-3",children:[n,Object(s.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm "+("SUBSCRIBED"===a.viewerSubscription?"btn-success":"btn-outline-secondary"),style:{fontSize:".6em"},children:a.viewerSubscription})]})]})},a.id.toString())},d=function(e){var t=e.totalCount,n=e.pageCount,a=e.queryString,c=e.onTotalChange,r=e.onQueryChange;return Object(s.jsxs)("div",{className:"d-flex align-items-center bg-light px-3 py-2 small rounded-3",children:[Object(s.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[Object(s.jsx)("label",{htmlFor:"queryString",className:"me-2 fw-bold text-secondary",children:"Search"}),Object(s.jsx)("input",{id:"queryString",className:"form-control form-control-sm me-2",type:"text",value:a,onChange:function(e){r(e.target.value)}})]}),Object(s.jsxs)("div",{className:"d-flex align-items-center",children:[Object(s.jsx)("label",{htmlFor:"pageCount",className:"me-2 fw-bold text-secondary",children:"Show"}),Object(s.jsx)("input",{id:"pageCount",className:"form-control form-control-sm text-center me-2",type:"number",min:"1",max:"100",value:n,onChange:function(e){c(e.target.value)}})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{className:"me-2 text-secondary",children:"Total:"}),t]})]})},j=function(e){var t=e.start,n=e.end,a=e.next,c=e.previous,r=e.onPage;return Object(s.jsxs)("div",{className:"d-flex justify-content-center my-2",children:[c&&Object(s.jsx)("button",{className:"btn mx-1 btn-sm btn-primary bi bi-arrow-left",onClick:function(){return r("last",'before: "'+t+'"')}}),a&&Object(s.jsx)("button",{className:"btn mx-1 btn-sm btn-primary bi bi-arrow-right",onClick:function(){return r("first",'after: "'+n+'"')}})]})};var m=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),o=Object(i.a)(r,2),m=o[0],p=o[1],h=Object(a.useState)(10),x=Object(i.a)(h,2),O=x[0],f=x[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),y=v[0],S=v[1],N=Object(a.useState)(null),C=Object(i.a)(N,2),I=C[0],w=C[1],k=Object(a.useState)(null),P=Object(i.a)(k,2),q=P[0],R=P[1],E=Object(a.useState)(null),T=Object(i.a)(E,2),z=T[0],Q=T[1],A=Object(a.useState)(!1),L=Object(i.a)(A,2),U=L[0],B=L[1],J=Object(a.useState)(!0),F=Object(i.a)(J,2),H=F[0],Y=F[1],D=Object(a.useState)("first"),M=Object(i.a)(D,2),W=M[0],_=M[1],G=Object(a.useState)(""),K=Object(i.a)(G,2),V=K[0],X=K[1],Z=Object(a.useCallback)((function(){var e=JSON.stringify(u(O,y,W,V));fetch(l.baseURL,{method:"POST",headers:l.headers,body:e}).then((function(e){return e.json()})).then((function(e){var t,n,s,a;console.log("data",e);var r=e.data.viewer,o=e.data.search.edges,i=e.data.search.repositoryCount,l=null===(t=e.data.search.pageInfo)||void 0===t?void 0:t.startCursor,u=null===(n=e.data.search.pageInfo)||void 0===n?void 0:n.endCursor,b=null===(s=e.data.search.pageInfo)||void 0===s?void 0:s.hasNextPage,d=null===(a=e.data.search.pageInfo)||void 0===a?void 0:a.hasPreviousPage;c(r.name),p(o),w(i),R(l),Q(u),Y(b),B(d)})).catch((function(e){console.log(e)}))}),[O,y,V,W]);return Object(a.useEffect)((function(){Z()}),[Z]),Object(s.jsxs)("div",{className:"App container mt-5",children:[Object(s.jsxs)("h1",{className:"text-primary",children:[Object(s.jsx)("i",{className:"bi bi-diagram-2-fill"})," Repos"]}),Object(s.jsxs)("p",{children:["Hey there ",n]}),Object(s.jsx)(d,{totalCount:I,pageCount:O,queryString:y,onTotalChange:function(e){f(e)},onQueryChange:function(e){S(e)}}),Object(s.jsx)(j,{start:q,end:z,next:H,previous:U,onPage:function(e,t){_(e),X(t)}}),m&&Object(s.jsx)("ul",{className:"list-group list-group-flush",children:m.map((function(e){return Object(s.jsx)(b,{repo:e.node},e.node.id)}))}),Object(s.jsx)(j,{start:q,end:z,next:H,previous:U,onPage:function(e,t){_(e),X(t)}})]})};n(10);o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(m,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.6ab06afc.chunk.js.map